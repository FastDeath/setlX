\def\myDocumentTypeArticle{-}
\InputIfFileExists{\jobname_header}{}{\input{config/header_V001}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% document specific %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% define the author, title etc
\globalTitle{Interpreter Manual}
\globalSubject{setlX \input{version}}
\globalAuthor{Herrmann, Tom}
\globalDate{\today}
\globalKeywords{readme}

% frequently used configuration options
\setboolean{linkHighlighting}{true}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% setup %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\InputIfFileExists{\jobname_configuration}{}{\input{config/configuration_V001}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% document text %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{document}
\begin{titlepage}
\maketitle
\vfill
\tableofcontents
\end{titlepage}

\section{Overview}

This is the manual of \setlX, an interpreter for the \SetlX{} programming-language.

The \SetlX{} language was mostly designed by Prof. Dr. Karl Stroetmann and is an evolution of \SetlTwo{} by Kirk Snyder and especially the original \Setl{} by Jack Schwartz. It was specifically conceived to make the features of \Setl{} more accessible to today's students of set theories.

The \setlX{} interpreter, which currently is the \SetlX{} reference implementation was implemented by Tom Herrmann.

\section{Usage}

The \setlX{} interpreter has two basic modes of operation:
\begin{itemize}
	\item file execution mode
	\item interactive mode
\end{itemize}

The `file execution mode' will be started if one or more paths to code files are supplied as parameters for this program. These files will then be parsed and executed in the order in which they are listed as parameters. When executing multiple files, they share the outer most scope.

When no paths are supplied, the `interactive mode' will be started.\\
Note that input will be executed after entering an additional empty line. Hereby multiple lines of input can be parsed and evaluated. Executing the `\command{exit;}' statement will terminate the interpreter.

\nonSubsection{Additional parameters}

In addition to file-paths a number of options can be used when running \setlX{}:

\begin{itemize}
	\param{--help}
	      {displays some helpful information}
	\param{--predictableRandom}
	      {always returns the same pseudo random sequence of numbers from the internal random number generator (for debugging)}
	\param{--real32\\
	       --real64\\
	       --real128\\
	       --real256}
           {sets the width of the real-type in bits (64 is the sane default)}
	\param{--verbose}
           {display the parsed program before executing it (has no effect in interactive mode)}
	\param{--version}
           {displays the interpreter version and terminates}
\end{itemize}

\section{Build \& Launching}

When the start script finds the self-contained `.jar' file of the interpreter, it is directly run. If this file is not present, it will try to automatically build the `.jar' on first launch.

\subsection{Unix-like OS (Linux, MacOSX, etc.)}

The \setlX{} program can be launched by changing into the `interpreter' sub-directory

\begin{lstlisting}
cd interpreter
\end{lstlisting}

and executing a SetlX program

\begin{lstlisting}
./setlX <path>/<name>.stlx
\end{lstlisting}

or launching the interactive mode.

\begin{lstlisting}
./setlX
\end{lstlisting}

\vspace{1em}

Optionally, when the interpreter source is available, the interpreter can be intelligently (re)build by executing

\begin{lstlisting}
make
\end{lstlisting}

and/or

\begin{lstlisting}
make jar
\end{lstlisting}

The later will create a self-contained `.jar' file. This file can be launched on all Java-Platforms without additional scripts, jars or environment-variables by executing

\begin{lstlisting}
java -jar setlX.jar <path>/<name>.stlx
\end{lstlisting}

or

\begin{lstlisting}
java -jar setlX.jar
\end{lstlisting}

Some additional make targets are also available:

\begin{lstlisting}
make interactive
\end{lstlisting}

will build a current version from source and execute the interactive mode;

\begin{lstlisting}
make test
\end{lstlisting}

will build a current version from source and execute a small set of tests;

\begin{lstlisting}
make clean
\end{lstlisting}

will delete all automatically created files, except the `.jar' file;

\begin{lstlisting}
make dist-clean
\end{lstlisting}

will delete all created files.

\subsection{Microsoft Windows}

It can be launched by changing into the `interpreter' sub-directory

\begin{lstlisting}
cd interpreter
\end{lstlisting}

and executing a SetlX program

\begin{lstlisting}
win-setlX.cmd <path>\<name>.stlx
\end{lstlisting}

or launching the interactive mode.

\begin{lstlisting}
win-setlX.cmd
\end{lstlisting}

\section{System Requirements}

To run \setlX{} a Java runtime, which is compatible to Java version 1.5 (aka version 5) or higher, is required.

When building from source, the corresponding Java development kit has to be present as well.

The hardware requirements are highly dependent on the executed \SetlX{} program. For optimal performance in most situations at least 512 MB of free main-memory should be available.

\section{Limitations}
The following limitation apply compared to other Setl versions:

\begin{itemize}
	\item All variables and functions are case sensitive.\\
        Predefined functions and keywords use camel case and begin with a lower case letter.
    \item Most explicit type conversions are unsupported.
    \item Ignoring positions in list assignments (`\command{-}') is not possible.\\
        Unsupported example:\\
        `\command{[x,-,y] := [1,2,3];}'\\
        where the `2' would not be assigned to anything.
    \item Explicit constants (`\command{const}') are unsupported.
    \item Object oriented features are not supported.
\end{itemize}

\section{Disclaimer}
This program uses the antlr parser generator in version 3.3. As per its license (which is shipped with the interpreter in \command{interpreter/antlr/antlr\_LICENSE.txt}) antlr is not guaranteed to work and might even destroy all life on this planet.

\end{document}
